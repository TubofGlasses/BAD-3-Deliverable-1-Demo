document.addEventListener('DOMContentLoaded', function() {
    var unsavedChangesAlert = document.getElementById('unsavedChangesAlert');
    var emailButton = document.getElementById('emailButton');
    var passwordButton = document.getElementById('passwordButton');
    var resetChangesButton = document.getElementById('resetChanges');

    var emailSectionOpen = false;
    var passwordSectionOpen = false;

    resetChangesButton.addEventListener('click', function() {
        window.location.reload();
    });

    // Function to check if both sections are closed
    function areBothSectionsClosed() {
        return !emailSectionOpen && !passwordSectionOpen;
    }

    // Function to toggle the alert
    function toggleAlert() {
        if (areBothSectionsClosed()) {
            unsavedChangesAlert.classList.add('hide-alert');
            setTimeout(function() {
                unsavedChangesAlert.classList.remove('show-alert', 'hide-alert');
                unsavedChangesAlert.style.display = 'none';
            }, 500);
        } else {
            unsavedChangesAlert.classList.add('show-alert');
            unsavedChangesAlert.classList.remove('hide-alert');
            unsavedChangesAlert.style.display = 'block';
        }
    }

    // Event listener for the email edit button
    emailButton.addEventListener('click', function(event) {
        event.stopPropagation();
        emailSectionOpen = !emailSectionOpen;
        toggleAlert();
    });

    // Event listener for the password edit button
    passwordButton.addEventListener('click', function(event) {
        event.stopPropagation();
        passwordSectionOpen = !passwordSectionOpen;
        toggleAlert();
    });

    var form = document.querySelector('form');
    form.addEventListener('click', function(event) {
        event.stopPropagation();
    });

    document.addEventListener('click', function() {
    }, true);
});